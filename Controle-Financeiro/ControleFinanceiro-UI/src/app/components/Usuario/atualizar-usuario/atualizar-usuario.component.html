<div *ngIf="!formulario">
    <mat-progress-bar mode="buffer"></mat-progress-bar>
</div>

<div class="divFormulario" fxLayout="row" fxLayoutAlign="center end" *ngIf="formulario">
  <div class="divForm">
    <h1>Atualizar do usuario {{ emailUsuario }}</h1>

    <mat-divider></mat-divider>

    <div class="formulario">
       <form [formGroup]="formulario">
          <div fxLayout="row" fxLayoutGap="30px">
             <div fxFlex="40" fxLayoutAlign="center end">
               <div fxLayout="column">
                  <div class="foto">
                    <img id="foto" *ngIf="urlFoto" [src]="urlFoto" width="350" height="300" />
                  </div>

                  <div fxLayoutAlign="center end">
                     <input hidden
                            type="file"
                            #fileInput
                            name="foto"
                            formControlName="foto"
                            (change)="selecionarFoto($event)" />
                     <br/><br/><br/><br/>
                     <button type="button" mat-stroked-button color="primary" (click)="fileInput.click()">
                       Escolha sua foto
                     </button>
                  </div>
               </div>
             </div>

             <div fxFlex="60">
                <div>
                  <mat-form-field>
                    <mat-label>Nome de usuário</mat-label>
                    <input matInput type="text" formControlName="username"
                        placeholder="Digite o nome do usuário"
                        required
                        minlength="6"
                        maxlength="50" />
                    <mat-error *ngIf="propriedade.username.touched && propriedade.username.invalid">
                       <sup>*</sup>Digite o nome de usuário
                    </mat-error>
                    <mat-error *ngIf="propriedade.username.errors?.minlength">
                       <sup>*</sup>Use mais caracteres
                    </mat-error>
                    <mat-error *ngIf="propriedade.username.errors?.maxlength">
                      <sup>*</sup>Use menos caracteres
                   </mat-error>
                  </mat-form-field>
                </div>

                <div>
                  <mat-form-field>
                    <mat-label>CPF</mat-label>
                    <input matInput type="text" formControlName="cpf"
                        placeholder="Digite o CPF"
                        required
                        mask="000.000.000-00" />
                    <mat-error *ngIf="propriedade.cpf.touched && propriedade.cpf.invalid">
                       <sup>*</sup>Digite o CPF
                    </mat-error>
                    <mat-error *ngIf="propriedade.cpf.errors?.minlength">
                       <sup>*</sup>Use mais caracteres
                    </mat-error>
                    <mat-error *ngIf="propriedade.cpf.errors?.maxlength">
                      <sup>*</sup>Use menos caracteres
                   </mat-error>
                  </mat-form-field>
                </div>

                <div>
                  <mat-form-field>
                    <mat-label>Profissão</mat-label>
                    <input matInput type="text" formControlName="profissao"
                        placeholder="Digite a profissao"
                        required
                        minlength="1"
                        maxlength="30" />
                    <mat-error *ngIf="propriedade.profissao.touched && propriedade.profissao.invalid">
                       <sup>*</sup>Digite a profissao
                    </mat-error>
                    <mat-error *ngIf="propriedade.profissao.errors?.minlength">
                       <sup>*</sup>Use mais caracteres
                    </mat-error>
                    <mat-error *ngIf="propriedade.profissao.errors?.maxlength">
                      <sup>*</sup>Use menos caracteres
                   </mat-error>
                  </mat-form-field>
                </div>

                <div>
                  <mat-form-field>
                    <mat-label>Email</mat-label>
                    <input matInput type="email" formControlName="email"
                        placeholder="Digite o Email"
                        required
                        minlength="10"
                        maxlength="50" />
                    <mat-error *ngIf="propriedade.email.touched && propriedade.email.invalid">
                       <sup>*</sup>Digite o email
                    </mat-error>
                    <mat-error *ngIf="propriedade.email.errors?.minlength">
                       <sup>*</sup>Use mais caracteres
                    </mat-error>
                    <mat-error *ngIf="propriedade.email.errors?.maxlength">
                      <sup>*</sup>Use menos caracteres
                   </mat-error>
                  </mat-form-field>
                </div>
             </div>
          </div>

          <mat-divider></mat-divider>

          <div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="end center" class="botoes">
             <div>
               <button type="submit" mat-stroked-button color="primary" [disabled]="formulario.invalid" (click)="salvarInformacoes()">
                 Atualizar
               </button>
             </div>

             <div>
              <button type="button" mat-stroked-button (click)="voltar()">
                Voltar
              </button>
            </div>
          </div>
       </form>
    </div>
  </div>
</div>
